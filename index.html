<!DOCTYPE html>
<html lang="es">
<head>
    <title>AEslot</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="estilo.css">
</head>
<body>
    <div class="bannersuperior">
        <div class="slider">
            <p> Viv铆 la emoci贸n del automodelismo en AEslot</p>
            <p> Particip谩 de nuestras competencias semanales</p>
            <p> Disfrut谩 en familia, corr茅, aprend茅 y divertite</p>
        </div>
    </div>

    <header>
        <a href="#" class="icono" onclick="MiFuncion()"><i class="fa fa-bars" aria-hidden="true"></i></a>
        <a href="index.html">
            <img class="logo" src="logoa帽e.png" alt="SportivoStyle">
        </a>
        <form class="search-form" action="https://www.google.com/search" method="GET" target="_blank" onsubmit="return validateSearch()">
        <input name="q" type="text" class="search-input" placeholder="Buscar..." required>
        <button type="submit" class="search-button"><i class="fas fa-search" title="Search."></i></button>
        </form>
    <button class="cart-button" title="Cart."> 
    <i class="fas fa-shopping-cart"></i>
    <span class="cart-count">0</span>
</button>
    <button class="user-button" onclick="abrirFormulario()" title="Suscripci贸n.">
        <i class="fas fa-user"></i>
    </button>
    
    </header>

    <nav id="navegador">
        <ul class="menu">  
            <li class="estilo-clase"><a href="index.html">INICIO</a></li>
            <li class="estilo-clase"><a href="nosotros.html">NOSOTROS</a></li>
            <li class="estilo-clase"><a href="competencias.html">COMPETENCIAS</a></li>
            <li class="estilo-clase"><a href="tienda.html">TIENDA</a></li>
            <li class="estilo-clase"><a href="contacto.html">CONTACTO</a></li>
        </ul> 
    </nav>

    <main class="contenido-principal">
       <section class="carousel">
  <div class="carousel-container">
    <div class="slide active">
        <img src="pistaa帽e.png" alt="Slide 1">
      </a>
    </div>
    <div class="slide">
        <img src="vidriera.png" alt="Slide 2">
      </a>
    </div>
    <div class="slide">
        <img src="boxes.png" alt="Slide 3">
      </a>
    </div>

    <!-- Botones de navegaci贸n -->
    <button class="carousel-btn prev">&#10094;</button>
    <button class="carousel-btn next">&#10095;</button>
  </div>
</section>

        <h1>NOVEDADES</h1>

        
    <div class="slider-wrapper">
    <button class="carousel-btn product-prev">&#10094;</button>

    <div class="slider-container" id="slider-container">
    <div class="slider-track" id="slider-track">
    <div class="caja3">
    <img src="toyota-yaris-wrc-montecarlo-23.jpg" alt="Toyota Yaris WRC">
    <div class="info">
    <p class="precio">$115,999</p>
    <h2>Toyota Yaris WRC- Montecarlo '23</h2>
    <button class="btn-compra" data-name="Toyota Yaris WRC" data-price="115999">Agregar al carrito</button>
    </div>
</div>
<div class="caja3">
    <img src="ford-puma-wrc-joker.png" alt="Ford Puma WRC">
    <div class="info">
    <p class="precio">$115,999</p>
    <h2>Ford Puma WRC - Joker</h2>
    <button class="btn-compra" data-name="Ford Puma WRC" data-price="$115999">Agregar al carrito</button>
    </div>
</div>
<div class="caja3">
    <img src="ford-escort-cosworth-lia-block-.png" alt="Ford Escort Cosworth">
    <div class="info">
    <p class="precio">$115,999</p>
    <h2>Ford Escort Cosworth - Lia Block</h2>
    <button class="btn-compra" data-name="Ford Escort Cosworth" data-price="115999">Agregar al carrito</button>
    </div>
</div>
<div class="caja3">
    <img src="mercedes-amg-gt3-tarmac.png" alt="Mercedes AMG GT3">
    <div class="info">
    <p class="precio">$115,999</p>
    <h2>Mercedes AMG GT3 - Tarmac</h2>
    <button class="btn-compra" data-name="Mercedes AMG GT3" data-price="115999">Agregar al carrito</button>
    </div>
</div>
<div class="caja3">
    <img src="hyundai-i-20-wrc-loeb-tuerkiye.png" alt="Hyundai i-20 WRC">
    <div class="info">
    <p class="precio">$115,999</p>
    <h2>Hyundai i-20 WRC - Loeb T眉rkiye</h2>
    <button class="btn-compra" data-name="Hyundai i-20 WRC" data-price="115999">Agregar al carrito</button>
    </div>
</div>
</div>
    </div>

<button class="carousel-btn product-next">&#10095;</button>
</div>

<div id="cart-modal" class="cart-modal hidden">
  <button class="close-cart" onclick="closeCart()"></button>
  <h3>Carrito de Compras</h3>
  <ul id="cart-items"></ul>
  <p>Total: $<span id="cart-total">0</span></p>
  <button id="pay-button" onclick="window.location.href='https://link.mercadopago.com.ar/sportivostyle';">COMPRAR</button>
</div>

<section class="novedades">
  <h2>CIRCUITOS DESTACADOS</h2>
  <div class="contenedor-cajas">
    <div class="caja novedad">
      <a href="https://scalextric.es/22-circuitos-compact" target="_blank">
        <img src="jump-loop.png" alt="Producto 1">
      </a>
    </div>
    <div class="caja novedad">
      <a href="https://scalextric.es/circuitos-compact/499-grand-challenge-8436572916425.html" target="_blank">
        <img src="grand-challenge.webp" alt="Producto 2">
      </a>
    </div>
    <div class="caja novedad">
      <a href="https://scalextric.es/circuitos-classic/405-open-rally-set-8436572915213.html" target="_blank">
        <img src="open-rally-set.jpg" alt="Producto 3">
      </a>
    </div>
  </div>
</section>

    </main>

<section class="promo-seccion">
    <a id="aw0" target="_blank" href="https://googleads.g.doubleclick.net/pcs/click?xai=AKAOjstOIPNajYX38WnTv85OiodGNOCsTpLUZ_BGPLArkpV4TW6qCEHBQfV62MrHoBBmnJLmUh8vYyN_VxrXLvifZo06ltsRdB3cDxef2i54qHuWN7dsgjGMdbdagsh6K64BjA4q3CO2naQpjqLwryZ5UY4IKAOd9UzsYjuj2An4rEPxZEXnkNTZk68QQ6erFxtx63TCTe-NpF2VAs0vD3oY6MRg7_LhHHCu5HqK9kdWowQTJli68Bf3jPSASGdwe57dJXLkL0r22VgqUtSbIa3oedaA4-Sa8517Wi-dOUFdgQhfIhzB8TW6JXCr4hF26L8r3Kha9mRuRgv9JHJDeBp937dAOJlPqsnezV4e6jKHiBT9sb4kdefrbM7tq_pV9eGwtvMqYPk5b0T8vDbSQN9k5mIKMrwXunbISD6kuA&amp;sai=AMfl-YRpo-VOKyP30d5jcirkZwnJwPetKsR5fRxchlyGKPJekjrEUjc4W8h64ZCLkVdfrSfzLY8C5l4ITmeng_5cyX1Q8-VMNr-kLT3VTPyBkHuBbQwGwbt8xhqy32FLS5yr1YhZKZhnp3PjB5Eu9AJp71JbY1yJU4nV3zcSzpI11SXio1gWelQyhkMhbLNhK8jF8VejdeADf8f1OZRbqg0Wo2s6SKkWFFRLivvtuY6n3Nv8LFjkPWQOqNoH15nCe_biYf8GFQsE2repNymzQH2m0iBVeaLUuEud&amp;sig=Cg0ArKJSzN6UOYNynOEu&amp;fbs_aeid=%5Bgw_fbsaeid%5D&amp;adurl=https://ad.doubleclick.net/ddm/trackclk/N8111.178992.LANACION/B34264499.431209602%3Bdc_trk_aid%3D623770823%3Bdc_trk_cid%3D243212271%3Bdc_lat%3D%3Bdc_rdid%3D%3Btag_for_child_directed_treatment%3D%3Btfua%3D%3Bgdpr%3D0%3Bgdpr_consent%3D%3Bltd%3D%3Bdc_tdv%3D1&amp;nm=4&amp;nx=489&amp;ny=-151&amp;mb=2" onfocus="ss('aw0')" onmousedown="st('aw0')" onmouseover="ss('aw0')" onclick="ha('aw0')"><img src="https://tpc.googlesyndication.com/simgad/3893529578363246250" border="0" width="1260" height="250" alt="" class="img_ad"></a>
</section>

<div class="prefooter">
    <div class="columna">
    <h3>INSTITUCIONAL</h3>
    <a href="quienessomos.html">Qui茅nes somos</a>
    <a href="https://autogestion.produccion.gob.ar/consumidores" target="_blank">
        Defensa del Consumidor
    </a> 
    </div>

    <div class="columna">
    <h3>REDES</h3>
    <a href="https://instagram.com/fernandocorengia" target="_blank">
            <i class="fab fa-instagram"></i> Instagram
        </a>
        <a href="https://facebook.com" target="_blank">
            <i class="fab fa-facebook"></i> Facebook
        </a>
    </div>

    <div class="columna">
    <h3>Centro de Atenci贸n al Cliente</h3>
    <a href="https://wa.me/+5491167263360" target="_blank">
    <i class="fab fa-whatsapp"></i> WhatsApp
    </a>
    <a href="mailto:corengiafernando@gmail.com" target="_blank" rel="noopener noreferrer">
    <i class="fas fa-envelope"></i> E-mail
    </a>
</div>
</div>

    <footer>
        <p>POWERED BY: <a href="https://www.instagram.com/fernandocorengia/" target="_blank">Fernando Corengia</a></p>
    </footer>

    <!-- Modal de formulario -->
    <div id="modal-formulario" class="modal-formulario">
        <div class="modal-contenido">
            <span id="cerrar-modal" class="cerrar">&times;</span>
            <iframe src="formulario.html" frameborder="0"></iframe>
        </div>
    </div>

    <script>
    function MiFuncion() {
        var x = document.getElementById("navegador");
        x.classList.toggle("mostrar");
    }

    document.addEventListener("click", function(event) {
        var menu = document.getElementById("navegador");
        var icono = document.querySelector(".icono");

        if (!menu.contains(event.target) && !icono.contains(event.target)) {
            menu.classList.remove("mostrar");
            document.querySelectorAll('.menu > .estilo-clase').forEach(el => el.classList.remove('activo'));
        }
    });

    document.querySelectorAll('.menu > .estilo-clase').forEach(item => {
        item.addEventListener('click', function(e) {
            if (window.innerWidth <= 480) {
                if (e.target.tagName.toLowerCase() === 'a') return;
                e.stopPropagation();
                e.preventDefault();
                document.querySelectorAll('.menu > .estilo-clase').forEach(el => {
                    if (el !== item) el.classList.remove('activo');
                });
                item.classList.toggle('activo');
            }
        });
    });

    document.querySelectorAll('.submenu a').forEach(link => {
        link.addEventListener('click', function(e) {
            if (window.innerWidth <= 480) {
                document.getElementById("navegador").classList.remove("mostrar");
                document.querySelectorAll('.menu > .estilo-clase').forEach(el => el.classList.remove('activo'));
            }
        });
    });

    // Mostrar el modal autom谩ticamente al cargar, solo si no se complet贸 el formulario
window.addEventListener("load", () => {
    const modal = document.getElementById("modal-formulario");
    const cerrar = document.getElementById("cerrar-modal");

    if (!modal || !cerrar) return;

    if (localStorage.getItem("formularioCompletado") !== "true") {
        // Retrasar la aparici贸n del modal para evitar problemas de layout en m贸viles
        setTimeout(() => {
            modal.style.display = "flex";
        }, 100);
    }

    cerrar.addEventListener("click", () => {
        modal.style.display = "none";
    });

    window.addEventListener("click", (e) => {
        if (e.target === modal) {
            modal.style.display = "none";
        }
    });
});

// Funci贸n para abrir el modal manualmente (tambi茅n verifica si ya se complet贸)
function abrirFormulario() {
    const yaCompleto = localStorage.getItem("formularioCompletado");
    if (yaCompleto === "true") {
        alert("隆Gracias por suscribirte!");
        return;
    }

    const modal = document.getElementById("modal-formulario");
    if (modal) {
        modal.style.display = "flex";
    }
}


    const slides = document.querySelectorAll('.slide');
    const nextBtn = document.querySelector('.next');
    const prevBtn = document.querySelector('.prev');
    let currentSlide = 0;
    let slideInterval = setInterval(nextSlide, 5000); // Cambia cada 5s

    function showSlide(index) {
        slides.forEach(slide => slide.classList.remove('active'));
        slides[index].classList.add('active');
    }

    function nextSlide() {
        currentSlide = (currentSlide + 1) % slides.length;
        showSlide(currentSlide);
    }

    function prevSlide() {
        currentSlide = (currentSlide - 1 + slides.length) % slides.length;
        showSlide(currentSlide);
    }

    nextBtn.addEventListener('click', () => {
        nextSlide();
        resetInterval();
    });

    prevBtn.addEventListener('click', () => {
        prevSlide();
        resetInterval();
    });

    function resetInterval() {
        clearInterval(slideInterval);
        slideInterval = setInterval(nextSlide, 5000);
    }

    showSlide(currentSlide);

    document.addEventListener("DOMContentLoaded", function () {
        if (window.innerWidth <= 480) {
            const images = document.querySelectorAll(".carousel .slide img");

            const mobileSources = [
                "superstar375x270.png",
                "Full-PumaLifestyle_375x270.jpg",
                "papasportivomovil.png"
            ];

            images.forEach((img, index) => {
                img.src = mobileSources[index];
            });
        }
    });

    document.addEventListener("DOMContentLoaded", function () {
        const track = document.getElementById("slider-track");
        const prevBtn = document.querySelector(".product-prev");
        const nextBtn = document.querySelector(".product-next");
        const box = document.querySelector(".caja3");
        const boxWidth = box.offsetWidth + 16;
        let position = 0;

        const originalItems = Array.from(track.children);
        originalItems.forEach(item => {
            const clone = item.cloneNode(true);
            track.appendChild(clone);
        });

        function autoScroll() {
            position -= 0.5;
            if (Math.abs(position) >= track.scrollWidth / 2) {
                position = 0;
            }
            track.style.transform = `translateX(${position}px)`;
            requestAnimationFrame(autoScroll);
        }

        autoScroll();

        prevBtn.addEventListener("click", function () {
            position += boxWidth;
            track.style.transform = `translateX(${position}px)`;
        });

        nextBtn.addEventListener("click", function () {
            position -= boxWidth;
            track.style.transform = `translateX(${position}px)`;
        });
    });

    const observer = new IntersectionObserver((entries, observer) => {
        entries.forEach((entry, index) => {
            if (entry.isIntersecting) {
                setTimeout(() => {
                    entry.target.classList.add('visible');
                }, index * 300);
                observer.unobserve(entry.target);
            }
        });
    }, {
        threshold: 0.2
    });

    document.querySelectorAll('.novedad').forEach(novedad => {
        observer.observe(novedad);
    });

    // CARRITO
let cart = [];

// Referencias al DOM
const cartCount = document.querySelector('.cart-count');
const cartItems = document.getElementById('cart-items');
const cartTotal = document.getElementById('cart-total');
const cartModal = document.getElementById('cart-modal');

// Al cargar la p谩gina, recuperar el carrito guardado
window.addEventListener('DOMContentLoaded', () => {
    const cartGuardado = localStorage.getItem('carrito');
    if (cartGuardado) {
        cart = JSON.parse(cartGuardado);
        updateCart();
    }
});

// Escuchar clicks en botones de compra
document.body.addEventListener('click', function (e) {
    if (e.target.classList.contains('btn-compra')) {
        const name = e.target.dataset.name;
        const price = parseFloat(e.target.dataset.price);
        cart.push({ name, price });
        guardarCarritoEnLocalStorage();
        updateCart();
    }
});

// Mostrar/ocultar el carrito
document.querySelector('.cart-button').addEventListener('click', () => {
    cartModal.classList.toggle('hidden');
});

// Funci贸n para guardar carrito
function guardarCarritoEnLocalStorage() {
    localStorage.setItem('carrito', JSON.stringify(cart));
}

// Actualizar visual del carrito
function updateCart() {
    cartCount.textContent = cart.length;
    cartItems.innerHTML = '';
    let total = 0;

    cart.forEach((item, index) => {
        const li = document.createElement('li');
        li.textContent = `${item.name} - $${item.price.toLocaleString()}`;

        // Bot贸n eliminar
        const btnEliminar = document.createElement('button');
        btnEliminar.textContent = 'Eliminar';
        btnEliminar.style.marginLeft = '10px';
        btnEliminar.style.cursor = 'pointer';
        btnEliminar.style.backgroundColor = '#e74c3c';
        btnEliminar.style.color = 'white';
        btnEliminar.style.border = 'none';
        btnEliminar.style.padding = '2px 6px';
        btnEliminar.style.borderRadius = '4px';

        btnEliminar.addEventListener('click', () => {
            cart.splice(index, 1);
            guardarCarritoEnLocalStorage();
            updateCart();
        });

        li.appendChild(btnEliminar);
        cartItems.appendChild(li);
        total += item.price;
    });

    cartTotal.textContent = total.toLocaleString();
}

// Cerrar carrito
function closeCart() {
    cartModal.classList.add('hidden');
}
</script>
</body>
</html>